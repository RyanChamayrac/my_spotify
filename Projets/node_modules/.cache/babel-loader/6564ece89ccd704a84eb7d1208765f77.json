{"ast":null,"code":"var _jsxFileName = \"/home/ryan/Projets/myspotify/Projets/src/components/authorization/Authorization.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { setLoggedIn, setAccessToken, setTokenExpiryDate, selectIsLoggedIn, selectTokenExpiryDate } from './AuthorizationSlice';\nimport { setUserProfileAsync } from '../user/UserSlice';\nimport { getAuthorizeHref } from '../../oauthConfig';\nimport { getHashParams, removeHashParamsFromUrl } from '../../utils/hashUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst hashParams = getHashParams();\nconst access_token = hashParams.access_token;\nconst expires_in = hashParams.expires_in;\nremoveHashParamsFromUrl();\nexport function Authorization() {\n  _s();\n\n  const isLoggedIn = useSelector(selectIsLoggedIn);\n  const tokenExpiryDate = useSelector(selectTokenExpiryDate);\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (access_token) {\n      dispatch(setLoggedIn(true));\n      dispatch(setAccessToken(access_token));\n      dispatch(setTokenExpiryDate(Number(expires_in)));\n      dispatch(setUserProfileAsync(access_token));\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-black rounded-lg shadow-xl overflow-hidden \",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"pt-10 pb-12 px-6 sm:pt-16 sm:px-16 lg:py-16 lg:pr-0 xl:py-20 xl:px-20\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"lg:self-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-extrabold text-green-400 sm:text-4xl\",\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"block\",\n                children: \"Projet MySpotify React\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 42,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 41,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-4 text-lg leading-6 text-indigo-200\",\n              children: \"Cliquez sur le boutton ci-dessous pour vous connecter \\xE0 l'interface avec votre compte\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 44,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"mt-8 bg-white border border-transparent rounded-md shadow px-5 py-3 inline-flex items-center text-base font-medium text-indigo-600 hover:bg-indigo-50\",\n              \"aria-label\": \"Log in using OAuth 2.0\",\n              onClick: () => window.open(getAuthorizeHref(), '_self'),\n              children: \"Log in with Spotify\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 45,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 39,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Authorization, \"N46vP2DzHtmKC6qFBNsUYxyLfTU=\", false, function () {\n  return [useSelector, useSelector, useDispatch];\n});\n\n_c = Authorization;\n\nvar _c;\n\n$RefreshReg$(_c, \"Authorization\");","map":{"version":3,"sources":["/home/ryan/Projets/myspotify/Projets/src/components/authorization/Authorization.tsx"],"names":["React","useEffect","useSelector","useDispatch","setLoggedIn","setAccessToken","setTokenExpiryDate","selectIsLoggedIn","selectTokenExpiryDate","setUserProfileAsync","getAuthorizeHref","getHashParams","removeHashParamsFromUrl","hashParams","access_token","expires_in","Authorization","isLoggedIn","tokenExpiryDate","dispatch","Number","window","open"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SACIC,WADJ,EAEIC,cAFJ,EAGIC,kBAHJ,EAIIC,gBAJJ,EAKIC,qBALJ,QAMO,sBANP;AAOA,SAASC,mBAAT,QAAoC,mBAApC;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,SAASC,aAAT,EAAwBC,uBAAxB,QAAuD,uBAAvD;;AAEA,MAAMC,UAAU,GAAGF,aAAa,EAAhC;AACA,MAAMG,YAAY,GAAGD,UAAU,CAACC,YAAhC;AACA,MAAMC,UAAU,GAAGF,UAAU,CAACE,UAA9B;AACAH,uBAAuB;AAEvB,OAAO,SAASI,aAAT,GAAyB;AAAA;;AAC5B,QAAMC,UAAU,GAAGf,WAAW,CAACK,gBAAD,CAA9B;AAEA,QAAMW,eAAe,GAAGhB,WAAW,CAACM,qBAAD,CAAnC;AACA,QAAMW,QAAQ,GAAGhB,WAAW,EAA5B;AAEAF,EAAAA,SAAS,CAAC,MAAM;AACZ,QAAIa,YAAJ,EAAkB;AACdK,MAAAA,QAAQ,CAACf,WAAW,CAAC,IAAD,CAAZ,CAAR;AACAe,MAAAA,QAAQ,CAACd,cAAc,CAACS,YAAD,CAAf,CAAR;AACAK,MAAAA,QAAQ,CAACb,kBAAkB,CAACc,MAAM,CAACL,UAAD,CAAP,CAAnB,CAAR;AACAI,MAAAA,QAAQ,CAACV,mBAAmB,CAACK,YAAD,CAApB,CAAR;AACH,KANW,CAOZ;;AACH,GARQ,EAQN,EARM,CAAT;AAUA,sBACI;AAAK,IAAA,SAAS,EAAC,UAAf;AAAA,2BACI;AAAK,MAAA,SAAS,EAAC,8CAAf;AAAA,6BACI;AAAK,QAAA,SAAS,EAAC,gDAAf;AAAA,+BACI;AAAK,UAAA,SAAS,EAAC,uEAAf;AAAA,iCACI;AAAK,YAAA,SAAS,EAAC,gBAAf;AAAA,oCACI;AAAI,cAAA,SAAS,EAAC,oDAAd;AAAA,qCACI;AAAM,gBAAA,SAAS,EAAC,OAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,oBADJ,eAII;AAAG,cAAA,SAAS,EAAC,wCAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAJJ,eAKI;AACI,cAAA,SAAS,EAAC,uJADd;AAEI,4BAAW,wBAFf;AAGI,cAAA,OAAO,EAAE,MAAMO,MAAM,CAACC,IAAP,CAAYZ,gBAAgB,EAA5B,EAAgC,OAAhC,CAHnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBALJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADJ;AAuBH;;GAvCeM,a;UACOd,W,EAEKA,W,EACPC,W;;;KAJLa,a","sourcesContent":["import React, { useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n    setLoggedIn,\n    setAccessToken,\n    setTokenExpiryDate,\n    selectIsLoggedIn,\n    selectTokenExpiryDate,\n} from './AuthorizationSlice';\nimport { setUserProfileAsync } from '../user/UserSlice';\nimport { getAuthorizeHref } from '../../oauthConfig';\nimport { getHashParams, removeHashParamsFromUrl } from '../../utils/hashUtils';\n\nconst hashParams = getHashParams();\nconst access_token = hashParams.access_token;\nconst expires_in = hashParams.expires_in;\nremoveHashParamsFromUrl();\n\nexport function Authorization() {\n    const isLoggedIn = useSelector(selectIsLoggedIn);\n\n    const tokenExpiryDate = useSelector(selectTokenExpiryDate);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (access_token) {\n            dispatch(setLoggedIn(true));\n            dispatch(setAccessToken(access_token));\n            dispatch(setTokenExpiryDate(Number(expires_in)));\n            dispatch(setUserProfileAsync(access_token));\n        }\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n\n    return (\n        <div className=\"bg-white\">\n            <div className=\"max-w-7xl mx-auto py-16 px-4 sm:px-6 lg:px-8\">\n                <div className=\"bg-black rounded-lg shadow-xl overflow-hidden \">\n                    <div className=\"pt-10 pb-12 px-6 sm:pt-16 sm:px-16 lg:py-16 lg:pr-0 xl:py-20 xl:px-20\">\n                        <div className=\"lg:self-center\">\n                            <h2 className=\"text-3xl font-extrabold text-green-400 sm:text-4xl\">\n                                <span className=\"block\">Projet MySpotify React</span>\n                            </h2>\n                            <p className=\"mt-4 text-lg leading-6 text-indigo-200\">Cliquez sur le boutton ci-dessous pour vous connecter Ã  l'interface avec votre compte</p>\n                            <button\n                                className=\"mt-8 bg-white border border-transparent rounded-md shadow px-5 py-3 inline-flex items-center text-base font-medium text-indigo-600 hover:bg-indigo-50\"\n                                aria-label=\"Log in using OAuth 2.0\"\n                                onClick={() => window.open(getAuthorizeHref(), '_self')}\n                            >\n                                Log in with Spotify\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    );\n}"]},"metadata":{},"sourceType":"module"}